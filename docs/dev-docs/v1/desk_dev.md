# 前端设计开发文档：知识库问答系统 (Tauri + Next.js)

**项目名称**: Sentra
**版本**: v0.1.0
**日期**: 2026.01.28
**状态**: 规划中

---

## 1. 项目概述 (Project Overview)

本项目旨在构建一个跨平台（Desktop & Web）的企业级知识库问答应用(一个基于图结构的文档到知识库的chat助手)。系统基于 **sentra** 技术，允许用户在不同的**租户 (Tenant)** 下管理私有知识库，并通过 AI 进行自然语言问答。

### 1.1 核心价值
* **跨平台体验**: 一套代码同时交付 Web 端与桌面端（Windows/macOS）。
* **多租户隔离**: 严格的数据与权限隔离。
* **极简美学**: 采用严格的黑白双色设计系统，专注于内容本身。

---

## 2. 技术栈选型 (Technology Stack)

| 模块 | 技术方案 | 选型说明 |
| :--- | :--- | :--- |
| **桌面容器** | **Tauri v2** | Rust 驱动，超轻量级，安全性高，原生能力强。 |
| **Web 框架** | **Next.js 14/15 (App Router)** | React 最新特性支持，SSR/SSG 灵活切换，路由管理强大。 |
| **开发语言** | **TypeScript** | 强类型约束，保障业务逻辑与 API 接口的安全性。 |
| **UI 组件库** | **Shadcn/ui** | 基于 Radix UI，源码级引入，易于定制黑白风格。 |
| **样式引擎** | **Tailwind CSS** | 原子化 CSS，配合 `dark:` 修饰符快速实现双色主题。 |
| **状态管理** | **Zustand** | 轻量级全局状态（Sidebar 状态、Session、租户信息）。 |
| **数据请求** | **TanStack Query (React Query)** | 处理服务端状态、缓存、轮询（用于查询知识库解析状态）。 |
| **Markdown** | **React-Markdown + SyntaxHighlighter** | 渲染 AI 返回的富文本与代码块。 |

---

## 3. 视觉设计规范 (Visual Design System)

系统遵循 **"Strict Bi-Color"**（严格双色）原则。无品牌色，仅通过黑、白、灰度区分层级。

### 3.1 配色方案

| 语义 | 亮色模式 (Light) | 暗色模式 (Dark) | 用途 |
| :--- | :--- | :--- | :--- |
| **Background** | `#FFFFFF` (纯白) | `#09090b` (极深灰) | 页面背景 |
| **Foreground** | `#09090b` (黑) | `#FFFFFF` (白) | 正文、主要图标 |
| **Primary** | `#18181b` (黑) | `#FAFAFA` (白) | 主按钮、激活态 |
| **Muted** | `#F4F4F5` (浅灰) | `#27272A` (深灰) | 辅助背景、分割线 |
| **Border** | `#E4E4E7` | `#27272A` | 边框、输入框边缘 |

### 3.2 布局结构
* **Tauri 定制**: 隐藏系统原生标题栏，实现自定义的 "Drag Region" 顶部栏（高度 32px）。
* **侧边栏 (Sidebar)**: 240px 固定宽度，包含租户切换、导航、历史记录。
* **内容区 (Main)**: 响应式布局，移动端自动折叠侧边栏。

---

## 4. 应用架构 (Architecture)
待开发